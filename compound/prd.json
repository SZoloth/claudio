{
  "project": "Claudio",
  "branchName": "compound/screen-context",
  "description": "Add custom wake commands - trigger specific Claude behaviors with voice shortcuts",
  "tasks": [
    {
      "id": "WC-001",
      "title": "Add WakeCommand model",
      "description": "Create a model for custom wake commands with trigger phrase and action",
      "acceptanceCriteria": [
        "WakeCommand struct with id, trigger, action, and isEnabled properties",
        "Codable for JSON persistence",
        "Run `./build.sh` - exits with code 0"
      ],
      "priority": 1,
      "passes": true
    },
    {
      "id": "WC-002",
      "title": "Add wake commands storage to AppSettings",
      "description": "Store custom wake commands with UserDefaults persistence",
      "acceptanceCriteria": [
        "AppSettings has `wakeCommands` property (array of WakeCommand)",
        "Default includes 'summarize this' and 'explain this' commands",
        "Persists to UserDefaults as JSON",
        "Run `./build.sh` - exits with code 0"
      ],
      "priority": 2,
      "passes": true
    },
    {
      "id": "WC-003",
      "title": "Add Wake Commands section to SettingsView",
      "description": "UI for viewing and editing custom wake commands",
      "acceptanceCriteria": [
        "SettingsView has Section labeled 'Wake Commands'",
        "Lists existing wake commands with toggle to enable/disable",
        "Shows trigger phrase and action for each",
        "Run `./build.sh` - exits with code 0"
      ],
      "priority": 3,
      "passes": true
    },
    {
      "id": "WC-004",
      "title": "Export wake commands to hook config",
      "description": "Write wake commands as JSON to hook-config.sh",
      "acceptanceCriteria": [
        "SettingsWriter exports CLAUDIO_WAKE_COMMANDS as JSON string",
        "Only enabled commands are exported",
        "Run `./build.sh` - exits with code 0"
      ],
      "priority": 4,
      "passes": true
    },
    {
      "id": "WC-005",
      "title": "Update hook script to match wake commands",
      "description": "Check transcription against wake commands and apply actions",
      "acceptanceCriteria": [
        "Hook script parses CLAUDIO_WAKE_COMMANDS JSON",
        "Matches trigger phrases against transcription",
        "Prepends matched action to the LLM prompt",
        "Test manually with voice command"
      ],
      "priority": 5,
      "passes": true
    },
    {
      "id": "WC-006",
      "title": "Final integration test",
      "description": "Verify wake commands work end-to-end",
      "acceptanceCriteria": [
        "Run `./build.sh` - exits with code 0",
        "App launches without errors",
        "Default wake commands appear in settings",
        "Config file includes CLAUDIO_WAKE_COMMANDS"
      ],
      "priority": 6,
      "passes": true
    }
  ]
}
